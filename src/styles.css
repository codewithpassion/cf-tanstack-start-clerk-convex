@import "tailwindcss";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
	--color-border: hsl(var(--border));
	--color-input: hsl(var(--input));
	--color-ring: hsl(var(--ring));
	--color-background: hsl(var(--background));
	--color-foreground: hsl(var(--foreground));

	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-foreground));

	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-foreground));

	--color-destructive: hsl(var(--destructive));
	--color-destructive-foreground: hsl(var(--destructive-foreground));

	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-foreground));

	--color-accent: hsl(var(--accent));
	--color-accent-foreground: hsl(var(--accent-foreground));

	--color-popover: hsl(var(--popover));
	--color-popover-foreground: hsl(var(--popover-foreground));

	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-foreground));

	--radius-lg: var(--radius);
	--radius-md: calc(var(--radius) - 2px);
	--radius-sm: calc(var(--radius) - 4px);
}

/* One-time fix for standard Shadcn variables */
:root {
	--background: 0 0% 100%;
	--foreground: 222.2 84% 4.9%;
	--card: 0 0% 100%;
	--card-foreground: 222.2 84% 4.9%;
	--popover: 0 0% 100%;
	--popover-foreground: 222.2 84% 4.9%;
	--primary: 222.2 47.4% 11.2%;
	--primary-foreground: 210 40% 98%;
	--secondary: 210 40% 96.1%;
	--secondary-foreground: 222.2 47.4% 11.2%;
	--muted: 210 40% 96.1%;
	--muted-foreground: 215.4 16.3% 46.9%;
	--accent: 210 40% 96.1%;
	--accent-foreground: 222.2 47.4% 11.2%;
	--destructive: 0 84.2% 60.2%;
	--destructive-foreground: 210 40% 98%;
	--border: 214.3 31.8% 91.4%;
	--input: 214.3 31.8% 91.4%;
	--ring: 222.2 84% 4.9%;
	--radius: 0.5rem;
}

.dark {
	--background: 222.2 84% 4.9%;
	--foreground: 210 40% 98%;
	--card: 222.2 84% 4.9%;
	--card-foreground: 210 40% 98%;
	--popover: 222.2 84% 4.9%;
	--popover-foreground: 210 40% 98%;
	--primary: 210 40% 98%;
	--primary-foreground: 222.2 47.4% 11.2%;
	--secondary: 217.2 32.6% 17.5%;
	--secondary-foreground: 210 40% 98%;
	--muted: 217.2 32.6% 17.5%;
	--muted-foreground: 215 20.2% 65.1%;
	--accent: 217.2 32.6% 17.5%;
	--accent-foreground: 210 40% 98%;
	--destructive: 0 62.8% 30.6%;
	--destructive-foreground: 210 40% 98%;
	--border: 217.2 32.6% 17.5%;
	--input: 217.2 32.6% 17.5%;
	--ring: 212.7 26.8% 83.9%;
}

/* CSS Variables for Amber Glow Design */
:root {
	--amber-glow: rgba(251, 191, 36, 0.15);
	--amber-glow-strong: rgba(251, 191, 36, 0.25);
	--card-gradient-start: rgb(15, 23, 42);
	--card-gradient-end: rgba(30, 41, 59, 0.8);
}

/* Keyframe Animations */
@keyframes fadeUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes glowPulse {

	0%,
	100% {
		box-shadow: 0 0 20px rgba(251, 191, 36, 0.15);
	}

	50% {
		box-shadow: 0 0 30px rgba(251, 191, 36, 0.25);
	}
}

/* Animation utility classes */
.animate-fade-up {
	animation: fadeUp 0.6s ease-out forwards;
}

.animate-fade-up-delay-1 {
	animation: fadeUp 0.6s ease-out 0.2s forwards;
	opacity: 0;
}

.animate-fade-up-delay-2 {
	animation: fadeUp 0.6s ease-out 0.4s forwards;
	opacity: 0;
}

.animate-fade-up-delay-3 {
	animation: fadeUp 0.6s ease-out 0.6s forwards;
	opacity: 0;
}

.animate-fade-up-delay-4 {
	animation: fadeUp 0.6s ease-out 0.8s forwards;
	opacity: 0;
}

.animate-content-fade {
	animation: fadeUp 0.6s ease-out 1s forwards;
	opacity: 0;
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {

	.animate-fade-up,
	.animate-fade-up-delay-1,
	.animate-fade-up-delay-2,
	.animate-fade-up-delay-3,
	.animate-fade-up-delay-4,
	.animate-content-fade {
		animation: none;
		opacity: 1;
		transform: none;
	}
}

/* Theme transition styles */
html:not(.theme-transition-disabled),
html:not(.theme-transition-disabled) * {
	transition:
		background-color 0.3s ease,
		color 0.3s ease,
		border-color 0.3s ease;
}

/* Prevent flash on initial load */
html.theme-transition-disabled,
html.theme-transition-disabled * {
	transition: none !important;
}

/* Novel Editor Drag Handle Styles */
.drag-handle {
	position: fixed;
	opacity: 1;
	transition: opacity ease-in 0.2s;
	border-radius: 0.25rem;

	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10' style='fill: rgba(0, 0, 0, 0.5)'%3E%3Cpath d='M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z'%3E%3C/path%3E%3C/svg%3E");
	background-size: calc(0.5em + 0.375rem) calc(0.5em + 0.375rem);
	background-repeat: no-repeat;
	background-position: center;
	width: 1.2rem;
	height: 1.5rem;
	z-index: 50;
	cursor: grab;
}

.drag-handle:hover {
	background-color: rgb(243 244 246);
	transition: background-color 0.2s;
}

.drag-handle:active {
	background-color: rgb(229 231 235);
	cursor: grabbing;
}

.drag-handle.hide {
	opacity: 0;
	pointer-events: none;
}

/* Dark mode drag handle */
.dark .drag-handle {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10' style='fill: rgba(255, 255, 255, 0.5)'%3E%3Cpath d='M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z'%3E%3C/path%3E%3C/svg%3E");
}

.dark .drag-handle:hover {
	background-color: rgb(55 65 81);
}

.dark .drag-handle:active {
	background-color: rgb(75 65 81);
}

.dark .drag-handle:active {
	background-color: rgb(75 85 99);
}

@media (max-width: 600px) {
	.drag-handle {
		display: none;
		pointer-events: none;
	}
}

body {
	@apply m-0 bg-background text-foreground;
	font-family:
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		"Roboto",
		"Oxygen",
		"Ubuntu",
		"Cantarell",
		"Fira Sans",
		"Droid Sans",
		"Helvetica Neue",
		sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

code {
	font-family:
		source-code-pro,
		Menlo,
		Monaco,
		Consolas,
		"Courier New",
		monospace;
}